<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-quickstart">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Getting started with mining | stopes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://facebookresearch.github.io/stopes/docs/quickstart"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Getting started with mining | stopes"><meta data-rh="true" name="description" content="Welcome to stopes, this is a quickstart guide to discover how to run automated pipelines with stopes. In this example, you&#x27;ll be running"><meta data-rh="true" property="og:description" content="Welcome to stopes, this is a quickstart guide to discover how to run automated pipelines with stopes. In this example, you&#x27;ll be running"><link data-rh="true" rel="icon" href="/stopes/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://facebookresearch.github.io/stopes/docs/quickstart"><link data-rh="true" rel="alternate" href="https://facebookresearch.github.io/stopes/docs/quickstart" hreflang="en"><link data-rh="true" rel="alternate" href="https://facebookresearch.github.io/stopes/docs/quickstart" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9ZRD7WBVGH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-9ZRD7WBVGH",{anonymize_ip:!0})</script><link rel="stylesheet" href="/stopes/assets/css/styles.4435c2e4.css">
<link rel="preload" href="/stopes/assets/js/runtime~main.bbba4afc.js" as="script">
<link rel="preload" href="/stopes/assets/js/main.221a2c9d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/stopes/"><div class="navbar__logo"><img src="/stopes/img/logo.svg" alt="stopes Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/stopes/img/logo.svg" alt="stopes Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">stopes</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/stopes/docs/quickstart">Quickstart</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/stopes/docs/stopes">Framework</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/stopes/docs/pipelines/global_mining">State-of-the-art Pipelines</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/stopes/docs/category/evaluation-toolkit">Evaluation Toolkit</a><a href="https://github.com/facebookresearch/fairseq/tree/nllb" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">NLLB<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebookresearch/stopes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/stopes/docs/quickstart">Getting started with mining</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/stopes/docs/category/stopes-modules">stopes Modules</a><button aria-label="Toggle the collapsible sidebar category &#x27;stopes Modules&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/stopes/docs/category/prebuilt-pipelines">Prebuilt Pipelines</a><button aria-label="Toggle the collapsible sidebar category &#x27;Prebuilt Pipelines&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/stopes/docs/category/evaluation-toolkit">Evaluation Toolkit</a><button aria-label="Toggle the collapsible sidebar category &#x27;Evaluation Toolkit&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/stopes/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Getting started with mining</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Getting started with mining</h1><p>Welcome to <code>stopes</code>, this is a quickstart guide to discover how to run automated pipelines with <code>stopes</code>. In this example, you&#x27;ll be running
global mining with the <code>stopes</code> toolchain. (Inspired by
<a href="https://ai.facebook.com/blog/ccmatrix-a-billion-scale-bitext-data-set-for-training-translation-models/" target="_blank" rel="noopener noreferrer">CCMatrix</a>).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a class="hash-link" href="#installation" title="Direct link to heading">​</a></h2><p>Follow the installation steps from the <a href="https://github.com/facebookresearch/stopes/blob/main/README.md" target="_blank" rel="noopener noreferrer">project&#x27;s README</a>, we recommend doing this in a separate <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/getting-started.html" target="_blank" rel="noopener noreferrer">conda environment</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-data">Getting Data<a class="hash-link" href="#getting-data" title="Direct link to heading">​</a></h2><p>To run the global mining pipeline, you first need to get some monolingual data.
The <a href="https://statmt.org/wmt22/large-scale-multilingual-translation-task.html" target="_blank" rel="noopener noreferrer">WMT22 Shared Task: Large-Scale Machine Translation Evaluation for African
Languages</a>
has some interesting monolingual data for some African languages.</p><p>You also need some trained encoder, we usually use <code>stopes</code> with LASER and we can
find such trained encoders for the languages in the WMT22 shared task too.</p><p>The <code>demo/mining/prepare.sh</code> script will download the monolingual data and LASER encoders
for you. Start by running this script and wait for the download to finish.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p><code>prepare.sh</code> was built for the quickstart demo, it will only download the encoders and data released as part of the African Languages workshop. The NLLB project has released <a href="https://github.com/facebookresearch/LASER/tree/main/nllb/" target="_blank" rel="noopener noreferrer">many encoders</a> and data that you can leverage with <code>stopes</code>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-the-pipeline">Configuring the pipeline<a class="hash-link" href="#configuring-the-pipeline" title="Direct link to heading">​</a></h2><p>In <code>stopes</code> pipelines, we use <a href="https://hydra.cc/" target="_blank" rel="noopener noreferrer">hydra</a> to configure the runs.
With hydra, you can configure everything with &quot;overrides&quot; on the cli, but it&#x27;s
often easier to put the configurations in yaml files as there is a lot of things
to setup.</p><p><code>stopes/pipelines/bitext/conf/preset/demo.yaml</code> is a demo configuration for the
data and encoders that we&#x27;ve downloaded in the previous steps. Check out the
comments in that file.</p><p>The important parts of that preset config is:</p><ol><li>we setup the launcher to run on your local computer (no need for a cluster)</li><li>we setup an alias for a <code>demo_dir</code> folder, so you can point to the
data/models from the cli</li><li>we setup some information about the <code>data</code>:<ul><li>some naming, to get nice file names as outputs</li><li>where the data is found (with <code>shard_glob</code>)</li></ul></li><li>we tell the pipeline where to find the encoder and SentencePiece model (SPM) uses
to embed the text. We do that for each lang in <code>lang_configs</code>. Practically,
if you are only processing a few languages, you don&#x27;t need so many entries,
here we preset them for all languages from the WMT22 task</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="speech-mining">Speech Mining<a class="hash-link" href="#speech-mining" title="Direct link to heading">​</a></h2><p>If you are interested in <a href="https://github.com/facebookresearch/SONAR" target="_blank" rel="noopener noreferrer">SONAR</a> multimodal mining, check the <a href="https://facebookresearch.github.io/stopes/docs/pipelines/speech_mining" target="_blank" rel="noopener noreferrer">Speech Mining</a> page for documentation.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Language codes are important, but not standardized everywhere. The <code>stopes</code> library does not make any assumptions to what codes you are using. As you will see in the configuration and the prepare script, codes are mostly important in naming data input files. If you want to use a different coding scheme, make sure that the files and config use the same naming conventions.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="run-the-pipeline">Run the Pipeline<a class="hash-link" href="#run-the-pipeline" title="Direct link to heading">​</a></h2><p>You can now start the pipeline with:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">python -m stopes.pipelines.bitext.global_mining_pipeline </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">src_lang</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">fuv </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">tgt_lang</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">zul </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">demo_dir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">./stopes-repo/demo/mining +preset</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">demo </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">output_dir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">. </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">embed_text</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">laser3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>src_lang</code> and <code>tgt_lang</code> specify the pair of languages we want to process,</li><li><code>demo_dir</code> is the new variable we introduce in our preset/demo.yaml file, to
point to where the <code>prepare.sh</code> script downloaded our data; make sure to
specify an absolute path,</li><li><code>+preset=demo</code> tells hydra to load the demo.yaml preset file to set our
defaults (the <code>+</code> here is because we are telling hydra to append a group that
doesn&#x27;t exist in the default config, see the <a href="https://hydra.cc/docs/1.0/advanced/override_grammar/basic/#basic-override-syntax" target="_blank" rel="noopener noreferrer">hydra
doc</a>
for details),</li><li><code>output_dir</code> specifies where we want the output (current run directory),</li><li><code>embed_text=laser3</code> tells the pipeline to use the laser3 encoding code to load
the models and encode the text.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="try-using-a-different-encoder">Try using a different encoder<a class="hash-link" href="#try-using-a-different-encoder" title="Direct link to heading">​</a></h2><p>In the previous run, we used <code>embed_text=laser3</code>, which will encode text with
the language specific laser3, but you can also use other encoders. For instance,
stopes ships with <a href="https://huggingface.co/sentence-transformers" target="_blank" rel="noopener noreferrer">HuggingFace
sentence-transformers</a>, so you can
use different encoders if you want to experiment.</p><p>You need to install <code>sentence-transformers</code> in your environment:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pip </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> --user sentence-transformers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here is an example to run LaBSE:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">python -m stopes.pipelines.bitext.global_mining_pipeline </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">src_lang</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">fuv </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">tgt_lang</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">zul </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">demo_dir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">./stopes-repo/demo/mining +preset</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">demo </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">output_dir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">. </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">embed_text</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">hf_labse </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">lang_configs</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">null </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">embedding_dimensions</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">768</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="explore-more">Explore More<a class="hash-link" href="#explore-more" title="Direct link to heading">​</a></h2><p>Check out these docs to learn more:</p><ul><li><a href="/stopes/docs/category/prebuilt-pipelines">Prebuilt Pipelines</a></li><li><a href="/stopes/docs/stopes"><code>stopes</code> Module Framework</a></li></ul></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/quickstart.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/stopes/docs/category/stopes-modules"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">stopes Modules</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#getting-data" class="table-of-contents__link toc-highlight">Getting Data</a></li><li><a href="#configuring-the-pipeline" class="table-of-contents__link toc-highlight">Configuring the pipeline</a></li><li><a href="#speech-mining" class="table-of-contents__link toc-highlight">Speech Mining</a></li><li><a href="#run-the-pipeline" class="table-of-contents__link toc-highlight">Run the Pipeline</a></li><li><a href="#try-using-a-different-encoder" class="table-of-contents__link toc-highlight">Try using a different encoder</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/stopes/docs/pipelines/global_mining">Pipelines</a></li><li class="footer__item"><a class="footer__link-item" href="/stopes/docs/stopes">stopes Modules</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebookresearch/stopes" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/data-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Data Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.fb.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/stopes/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/stopes/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2023 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/stopes/assets/js/runtime~main.bbba4afc.js"></script>
<script src="/stopes/assets/js/main.221a2c9d.js"></script>
</body>
</html>